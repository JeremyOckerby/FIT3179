<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<h1>Victorian Secondary School System</h1>

<!-- Vega & Vega-Lite -->
<script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>

<!-- Bootstrap 5 CSS & Font Awesome -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;500;700&display=swap" rel="stylesheet">

<style>
h1 {
  margin-top: 40px;
  font-size: 3.5em;
  color: #2c3e50;
  text-transform: uppercase;
  letter-spacing: 1px;
}

body {
  font-family: 'Poppins', sans-serif;
  background: url('https://images.unsplash.com/photo-1503676260728-1c00da094a0b?auto=format&fit=crop&w=1600&q=80') 
              no-repeat center center fixed;
  background-size: cover;
  margin: 0;
  text-align: center;
}

.references-box {
  max-width: 300px;
  padding: 10px 15px;
  font-size: 0.85em;
  color: #555;
  text-align: left;
  background: rgba(255,255,255,1);
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  margin: 20px;
  float: right;
}

h1 {
  margin-top: 40px; font-size:2.8em; color:#2c3e50; text-transform:uppercase; letter-spacing:1px;
}

.intro-text {
  max-width: 850px;
  margin: 20px auto 40px;
  padding: 25px;
  font-size: 1.1em;
  line-height: 1.7em;
  color: #555;
  text-align: justify;
  background: rgba(255,255,255,0.85);
  border-radius: 10px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
}

.secondary-text {
  max-width: 800px;
  margin: 10px auto 30px;
  padding: 15px;
  font-size: 0.95em;
  line-height: 1.5em;
  color: #666;
  text-align: justify;
  background: rgba(255,255,255,1);
  border-radius: 8px;
  box-shadow: 0 1px 4px rgba(0,0,0,0.08);
}

.map-wrapper {
  display: flex;
  justify-content: center;
  margin: 0 auto;
  width: 100%;
}

.map-container {
  position: relative;
  width: 800px;
  height: 600px;
  margin-right: 100px;  
  margin-bottom: 30px;  
}

.vis-container {
  width: 100%;
  height: 100%;
  background: rgba(255,255,255,0.85);
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.map-controls {
  position: absolute;
  top: 30px;
  right: 10px;
  z-index: 10;
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.map-controls button { width: 50px; height: 50px; }

.charts-row {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  width: 95%;
  margin: 50px auto 40px;
  gap: 40px;
}

.chart-box {
  flex: 1 1 48%;
  min-width: 300px;
  height: 400px;
  background: rgba(255,255,255,1);
  border-radius:12px;
  box-shadow:0 2px 8px rgba(0,0,0,0.1);
  padding:10px;
}

.observations-text {
  display: flex;
  align-items: flex-start;
  max-width: 48%;
  margin: 20px auto;
  padding: 10px;
  font-size: 0.9em;
  line-height: 1.4em;
  color: #888;
  text-align: justify;
  background: rgba(255,255,255,1);
  border-radius: 6px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.06);
  margin-bottom: 100px;  
}

</style>
</head>
<body>

<div class="intro-text">
  <p>There are over 600 secondary schools across Victoria, representing different sectors and each with their own unique characteristics. This dashboard explores the factors that contribute to a schoolâ€™s ability to support young Victorians in achieving academic success and preparing for a bright future.</p>
</div>

<div class="secondary-text">
  <p><strong>What is a VCE study score?</strong> The Victorian Certificate of Education (VCE) is the credential awarded to students who complete Year 11 and 12, preparing them for university. For each subject a student completes, they receive a study score ranging from 0 to 50. This score reflects how the student performed relative to all other students in Victoria who completed the same subject.</p>
</div>

<div class="map-wrapper">
  <div class="map-container">
    <div id="vic_school_map" class="vis-container"></div>
    <div class="map-controls">
      <button id="zoomIn" class="btn btn-outline-primary"><i class="fas fa-search-plus"></i></button>
      <button id="zoomOut" class="btn btn-outline-primary"><i class="fas fa-search-minus"></i></button>
      <button id="moveUp" class="btn btn-outline-primary"><i class="fas fa-arrow-up"></i></button>
      <button id="moveDown" class="btn btn-outline-primary"><i class="fas fa-arrow-down"></i></button>
      <button id="moveLeft" class="btn btn-outline-primary"><i class="fas fa-arrow-left"></i></button>
      <button id="moveRight" class="btn btn-outline-primary"><i class="fas fa-arrow-right"></i></button>
      <button id="showSchools" class="btn btn-outline-success"><i class="fas fa-school"></i></button>
    </div>
  </div>
</div>

<div class="observations-text">
  <p>Schools located within metropolitan Melbourne generally have higher median VCE study scores. This may be influenced by factors such as greater access to educational resources, higher funding levels and increased schooling investment.</p>
</div>

<div class="charts-row">
  <div class="chart-box" id="scatterplot"></div>
  <div class="chart-box" id="linechart"></div>
</div>

<div class="observations-text" style="max-width:48%; margin-top: 100px;">
  <p>Government schools have the lowest average enrolments per year level. This is likely because they are required to operate in areas with smaller populations, where Catholic and Independent institutions may not view establishing a school as a viable investment.</p>
</div>

<div class="secondary-text">
  <p><strong>What is a VTAC?</strong> The Victorian Tertiary Admissions Centre (VTAC) is an independent organisation that coordinates applications for tertiary study in Victoria, helping students access universities and other higher education opportunities.</p>
</div>

<div class="charts-row">
  <div class="chart-box" id="barchart"></div>
  <div class="chart-box" id="boxplot"></div>
</div>

<div class="observations-text">
  <p>There is not a significant difference in the percentage of students applying for tertiary study across school sectors. However, the variation is greater among Independent and Government schools, which may reflect differences in school culture and the value placed on university education within each region.</p>
</div>

<div class="references-box">
  <p>
    <strong>Data Sources:</strong> Victorian Department of Education, Data Victoria<br>
    <strong>Background URL:</strong> https://images.unsplash.com/photo-1503676260728-1c00da094a0b?auto=format&fit=crop&w=1600&q=80<br>
    <strong>Author:</strong> Jeremy Ockerby<br>
    <strong>Date:</strong> October 2025<br>
    <strong>Coverage:</strong> Victorian Secondary School System 2024<br>
  </p>
</div>

<script>
const specVicSchoolMap = "school_lga_choropleth_map.json";
let view, zoom=20000, lon=0, lat=0;

vegaEmbed('#vic_school_map', specVicSchoolMap, {actions:false})
  .then(result => { view = result.view; setupMapControls(); })
  .catch(console.error);

function setupMapControls() {
  document.getElementById("zoomIn").onclick = () => updateZoom(5000);
  document.getElementById("zoomOut").onclick = () => updateZoom(-5000);
  document.getElementById("moveUp").onclick = () => updatePosition(0,0.1);
  document.getElementById("moveDown").onclick = () => updatePosition(0,-0.1);
  document.getElementById("moveLeft").onclick = () => updatePosition(-0.1,0);
  document.getElementById("moveRight").onclick = () => updatePosition(0.1,0);

  function updateZoom(delta) {
    zoom = Math.max(5000, Math.min(60000, zoom+delta));
    view.signal("zoom_level", zoom).runAsync();
  }

  function updatePosition(dLon,dLat){
    lon = Math.max(-2, Math.min(2, lon+dLon));
    lat = Math.max(-2, Math.min(2, lat+dLat));
    view.signal("lon_offset", lon).signal("lat_offset", lat).runAsync();
  }

  let schoolsShown = false;
  document.getElementById("showSchools").onclick = () => {
    schoolsShown = !schoolsShown;
    view.signal("show_schools", schoolsShown).runAsync();
  };
}

vegaEmbed('#scatterplot', "school_scatterplot.json", { actions:false, renderer:"canvas" })
  .catch(console.error);

vegaEmbed('#linechart', "school_linechart.json", { actions:false, renderer:"canvas" })
  .catch(console.error);

vegaEmbed('#barchart', "school_barchart.json", { actions:false, renderer:"canvas" })
  .catch(console.error);

vegaEmbed('#boxplot', "school_boxplot.json", { actions:false, renderer:"canvas" })
  .catch(console.error);
</script>
</body>
</html>
